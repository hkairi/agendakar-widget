!function e(t,a,n){function r(i,l){if(!a[i]){if(!t[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(c)return c(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var d=a[i]={exports:{}};t[i][0].call(d.exports,function(e){var a=t[i][1][e];return r(a?a:e)},d,d.exports,e,t,a,n)}return a[i].exports}for(var c="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(e){function t(e,t){var a=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=e,n.async=1,n.onreadystatechange=t,n.onload=t,a.appendChild(n)}function a(e){var t=document.getElementsByTagName("head")[0],a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,t.appendChild(a)}function n(){a("css/main.min.css"),a("http://fonts.googleapis.com/css?family=Dosis"),a("http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css")}function r(){var t=e("./components/agendakar"),a=document.getElementById("agendakar-agenda"),n=a.attributes["data-el"].value,r=a.attributes["data-cid"].value;React.render(React.createElement(t,{clientId:r}),document.getElementById(n))}function c(){void 0===window.React&&t("https://cdnjs.cloudflare.com/ajax/libs/react/0.12.2/react.min.js",r)}function i(){void 0===window.jQuery?t("https://code.jquery.com/jquery-1.11.2.min.js",c):c()}n(),i()},{"./components/agendakar":2}],2:[function(e,t){var a=e("./header"),n=e("./liste"),r=e("./footer"),c=e("./special"),i=React.createClass({displayName:"agendakar-widget",getInitialState:function(){return{url:"http://www.agendakar.com/api/v1/events.json",show:!1,item:null,data:{client_id:this.props.client_id},selected:!1,isLoading:!0,evenements:[]}},fetchData:function(){var e=this.state.data;return $.ajax({url:this.state.url,data:e,dataType:"json"})},componentDidMount:function(){this.fetchData().done(function(e){this.setState({isLoading:!1,show:!1,item:null,evenements:e})}.bind(this)).fail(function(){alert("Erreur")})},onEvenementClick:function(e){return this.setState({show:!0,item:this.state.evenements[e]}),!1},onSpecialClose:function(){this.setState({show:!1,item:null})},render:function(){var e={textAlign:"center",display:this.state.isLoading?"block":"none"};return React.createElement("div",{id:"agd-widget"},React.createElement(a,{titre:"cette semaine a Dakar"}),React.createElement("h2",{style:e},"Chargement en cours ..."),React.createElement(c,{item:this.state.item,show:this.state.show,clientId:this.props.clientId,onClose:this.onSpecialClose}),this.state.show?null:React.createElement(n,{evenements:this.state.evenements,onEvenementClick:this.onEvenementClick}),React.createElement(r,null))}});t.exports=i},{"./footer":5,"./header":6,"./liste":7,"./special":8}],3:[function(e,t){var a=React.createClass({displayName:"Endroit",render:function(){return React.createElement("p",{className:"endroit"},React.createElement("i",{className:"fa fa-map-marker"})," ",this.props.nom)}});t.exports=a},{}],4:[function(e,t){var a=(e("./endroit"),React.createClass({displayName:"Evenement",iscollapsed:null,get_url:function(e){var t=this.props.clientId;return"http://www.agendakar.com/agenda/"+e+"?clientId="+t},getInitialState:function(){return{iscollapsed:!0}},clickHandler:function(e){this.props.onClick(this.props.index),e.preventDefault()},render:function(){var e=(this.state.iscollapsed?"lieu hidden":"lieu",this.props.event);return React.createElement("li",{className:"item",onClick:this.clickHandler},React.createElement("div",null,React.createElement("table",{className:"evenement"},React.createElement("tr",null,React.createElement("td",null,React.createElement("div",{className:"dateheure"},React.createElement("div",{className:"date"},"Le ",e.date),React.createElement("div",{className:"heure"},e.heure)))),React.createElement("tr",null,React.createElement("td",null,e.nom)))))}}));t.exports=a},{"./endroit":3}],5:[function(e,t){var a=React.createClass({displayName:"Footer",render:function(){return React.createElement("div",{id:"agd-footer"},React.createElement("a",{href:"http://www.agendakar.com",target:"_blank"},React.createElement("h2",{className:"h"},"voir tous les evenements")))}});t.exports=a},{}],6:[function(e,t){var a=React.createClass({displayName:"Header",logo_url:"http://agendakar.com/assets/logo-327ec88839272b08eb7b40fe82d636de.png",render:function(){return React.createElement("div",{id:"agd-header"},React.createElement("div",{id:"agd-logo"},React.createElement("a",{href:"http://www.agendakar.com",target:"_blank"},React.createElement("img",{src:this.logo_url,title:"www.agendakar.com",alt:"www.agendakar.com"}))),React.createElement("h1",{id:"agd-txt"},this.props.titre))}});t.exports=a},{}],7:[function(e,t){var a=e("./evenement"),n=React.createClass({displayName:"Agenda",onClick:function(e){this.props.onEvenementClick(e)},getInitialState:function(){return{selected:!1,show:!1,item:null}},render:function(){var e=[],t=this.props.evenements;return t.map(function(n){var r=t.indexOf(n);e.push(React.createElement(a,{key:n.slug,event:n,index:r,clientId:this.props.clientId,onClick:this.onClick}))}.bind(this)),React.createElement("div",{id:"agd-liste"},e)}});t.exports=n},{"./evenement":4}],8:[function(e,t){var a=React.createClass({displayName:"Special",get_url:function(){var e="http://www.agendakar.com/agenda/"+this.props.item.slug;return e+="?clientId="+this.props.clientId},render:function(){var e=this.props.show?"":"hidden",t=this.props.item;return t?React.createElement("div",{className:e,id:"agd-special"},React.createElement("div",{id:"s-header"},React.createElement("div",{id:"date"}),React.createElement("div",{id:"close"},React.createElement("i",{className:"fa fa-remove",onClick:this.props.onClose}))),React.createElement("div",{id:"content"},React.createElement("div",{className:"titre"}," ",t.nom," "),React.createElement("div",{id:"image"},React.createElement("img",{src:t.photo_url,alt:t.nom,title:t.nom}),React.createElement("br",null),React.createElement("table",null,React.createElement("tr",null,React.createElement("td",null,t.date),React.createElement("td",{className:"heure"},t.heure)),React.createElement("tr",null,React.createElement("td",{colSpan:"2"},t.endroit)))),React.createElement("div",{id:"extra"},React.createElement("a",{href:this.get_url(),target:"_blank"},React.createElement("i",{className:"fa fa-external-link"}),"plus d'infos sur www.agenakar.com")))):null}});t.exports=a},{}]},{},[1]);
